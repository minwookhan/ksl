*  calculate_optical_flow_차이
=calculate_optical_flow_value= 함수에서 사용된 Optical Flow 파라미터들을
C++(MFC) 원본과 Python 포팅 버전으로 비교 분석해 드립니다.

*** 파라미터 비교 요약
| 구분                                     | 파라미터 (OpenCV) | *C++ (MFC Version)*       | *Python (Ported Version)* |                   |
|-----------------------------------------+-----------------+-------------------------+-------------------------+-------------------|
| *Feature Tracking*(=goodFeaturesToTrack=) | =maxCorners=      | *300*                     | *300*                     |                   |
|                                         | =qualityLevel=    | *0.01*                    | *0.01*                    |                   |
|                                         | =minDistance=     | *7*                       | *7*                       |                   |
|                                         | =blockSize=       | /(OpenCV default: 3)/     | *7* /(명시적 설정)/           |                   |
| *Optical Flow*(=calcOpticalFlowPyrLK=)    | =winSize=         | /(OpenCV default: 21x21)/ | *(15, 15)*                |                   |
|                                         | =maxLevel=        | /(OpenCV default: 3)/     | *2*                       |                   |
|                                         | =criteria=        | /(OpenCV default)/        | =(EPS                   | COUNT, 10, 0.03)= |

--------------

*** 상세 분석
**** 1. C++ (MFC Version)
C++ 코드(=gRPCFileClientDlg.cpp=)를 보면 일부 파라미터는 명시되어
있지만, =calcOpticalFlowPyrLK=의 경우 많은 파라미터가 기본값(Default)을
사용하고 있습니다.

#+begin_src cpp
// C++: gRPCFileClientDlg.cpp (L646)
cv::goodFeaturesToTrack(prevGray, prevPts, 300, 0.01, 7);
// blockSize 생략됨 -> 기본값 3 사용 추정

// L654
cv::calcOpticalFlowPyrLK(
    prevGray, gray,
    prevPts, nextPts,
    status, err
    // winSize, maxLevel, criteria 등이 생략됨
    // winSize 기본값: Size(21, 21)
    // maxLevel 기본값: 3
);
#+end_src

**** 2. Python (Ported Version)
Python 코드(=src/video.py=)에서는 파라미터들을 =dict= 형태로 명시적으로
정의하여 사용하고 있습니다.

#+begin_src python
# Python: src/video.py (L116)
feature_params = dict(maxCorners=300,
                      qualityLevel=0.01,
                      minDistance=7,
                      blockSize=7) # C++ 기본값(3)과 다를 수 있음

# L125
lk_params = dict(winSize=(15, 15), # C++ 기본값(21, 21)보다 작음 (더 정밀하지만 빠른 움직임에 취약할 수 있음)
                 maxLevel=2,       # C++ 기본값(3)보다 작음
                 criteria=(cv2.TERM_CRITERIA_EPS | cv2.TERM_CRITERIA_COUNT, 10, 0.03))
#+end_src

*** 3. 주요 차이점 및 영향
1. *=blockSize= (Feature Detection)*:
   - C++: 기본값 사용 (보통 3).
   - Python: =7=로 설정됨. 블록 크기가 커지면 특징점 추출이 노이즈에 좀
     더 강해지지만 디테일은 떨어질 수 있습니다.
2. *=winSize= (Optical Flow)*:
   - C++: 기본값 =(21, 21)=. 더 넓은 범위를 보므로 빠른 움직임을 더 잘
     잡습니다.
   - Python: =(15, 15)=. 탐색 범위가 좁아져 계산은 빠를 수 있으나, 아주
     빠른 손동작을 놓칠 위험이 C++보다 약간 높습니다.
3. *=maxLevel= (Pyramid)*:
   - C++: 기본값 =3= (0, 1, 2, 3 레벨).
   - Python: =2=. 피라미드 레벨이 낮으면 큰 움직임(Displacement) 추적
     성능이 떨어질 수 있습니다.

*결론적으로*, Python 버전은 C++ 버전에 비해 *파라미터가 약간 더
보수적(작은 윈도우, 낮은 레벨)으로 설정*되어 있습니다. 만약 Python
버전의 성능(움직임 감지 능력)이 C++과 다르다면, 이 =winSize=와
=maxLevel=을 C++ 기본값(=(21, 21)=, =3=)에 맞춰 조정하는 것이 좋습니다.
